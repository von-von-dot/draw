:root{
  --bg:#0b0d12;
  --line:rgba(255,255,255,.14);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --accent:#2e6ef7;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);font-family:-apple-system,system-ui;color:var(--text);overflow-x:hidden}
.stage{padding:12px 12px 120px}
.canvaswrap{width:94vw;max-width:720px;margin:auto;aspect-ratio:1;background:#fff;border-radius:18px;overflow:hidden;position:relative;border:1px solid var(--line)}
canvas{width:100%;height:100%;display:block;touch-action:none}
.status{position:absolute;left:10px;bottom:10px;font-size:12px;color:rgba(0,0,0,.65);background:rgba(255,255,255,.75);border:1px solid rgba(0,0,0,.12);border-radius:999px;padding:6px 10px;backdrop-filter:blur(8px)}
.toggle{position:fixed;top:10px;right:10px;z-index:30;background:rgba(17,20,26,.92);border:1px solid var(--line);color:var(--text);padding:10px 14px;border-radius:12px;backdrop-filter:blur(10px)}
.panel{position:fixed;left:12px;right:12px;top:56px;bottom:90px;overflow:auto;background:rgba(15,18,24,.94);border:1px solid var(--line);border-radius:18px;padding:14px;z-index:25;display:none;backdrop-filter:blur(12px)}
.panel.open{display:block}
h3{margin:0 0 10px;font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:var(--muted)}
label{display:block;margin:12px 0;font-size:14px}
label .val{float:right;color:var(--muted);font-variant-numeric:tabular-nums}
input[type="range"]{width:100%;margin-top:8px}
.rowbtn{display:flex;gap:10px;margin-top:10px}
.rowbtn button{flex:1;padding:12px;border-radius:12px;border:1px solid var(--line);background:#11141a;color:var(--text)}
.rowbtn button.active{background:rgba(46,110,247,.22);border-color:rgba(46,110,247,.35)}
.rowbtn button.primary{background:rgba(46,110,247,.22);border-color:rgba(46,110,247,.35)}
.rowbtn button.danger{background:rgba(255,60,60,.16);border-color:rgba(255,60,60,.25)}
.rowcheck{display:flex;gap:14px;flex-wrap:wrap}
.rowcheck label{display:flex;align-items:center;gap:8px;margin:6px 0;font-size:13px}
.rowcheck input{width:22px;height:22px}
.divider{height:1px;background:var(--line);margin:12px 0}
.hint{margin:10px 0 0;color:var(--muted);font-size:12px;line-height:1.35}
.bottombar{position:fixed;left:0;right:0;bottom:0;z-index:20;display:flex;gap:10px;padding:10px 12px calc(10px + env(safe-area-inset-bottom)) 12px;border-top:1px solid var(--line);background:#0b0d12;overflow-x:auto;-webkit-overflow-scrolling:touch}
.bottombar .btn{white-space:nowrap;border:1px solid var(--line);background:#11141a;color:var(--text);padding:12px 12px;border-radius:14px}
.bottombar .primary{background:rgba(46,110,247,.22);border-color:rgba(46,110,247,.35)}

.toast{position:fixed;left:12px;right:12px;bottom:86px;z-index:40;display:none;background:rgba(17,20,26,.92);border:1px solid var(--line);border-radius:14px;padding:12px 14px;color:var(--text);backdrop-filter:blur(10px);font-size:13px}
.toast.show{display:block}
